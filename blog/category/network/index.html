
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Aethoce's Blog">
      
      
      
      
        <link rel="prev" href="../machine-learning/">
      
      
        <link rel="next" href="../ops/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.2.0-b3">
    
    
      
        <title>Network - Aethoce's Blog</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.83068744.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-67XGNSFM2J"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-67XGNSFM2J",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-67XGNSFM2J",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#network" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="Aethoce&#39;s Blog" class="md-header__button md-logo" aria-label="Aethoce's Blog" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Aethoce's Blog
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Network
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link">
        
  
    
  
  Blog

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../tags/" class="md-tabs__link">
        
  
    
  
  标签

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../about/" class="md-tabs__link">
        
  
    
  
  关于我

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../archive/2024/" class="md-tabs__link">
          
  
  归档

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../ai/" class="md-tabs__link">
          
  
  分类

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Aethoce&#39;s Blog" class="md-nav__button md-logo" aria-label="Aethoce's Blog" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Aethoce's Blog
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blog
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../tags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    标签
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    关于我
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    归档
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            归档
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../archive/2024/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2024
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../archive/2023/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2023
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../archive/2022/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2022
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    分类
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            分类
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ai/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../cloudnative/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CloudNative
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../competitions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Competitions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../cybersec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CyberSec
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../devops/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DevOps
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../hpc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HPC
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../machine-learning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Machine Learning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Network
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Network
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#asc24" class="md-nav__link">
    ASC24 初赛回忆录
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#asc-22-23" class="md-nav__link">
    ASC 22-23 回忆录
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#syn" class="md-nav__link">
    镜像站遭遇 SYN 泛洪攻击的诊断与防御
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#http2" class="md-nav__link">
    HTTP/2带来了什么特性
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bbr" class="md-nav__link">
    如何在服务端启用 BBR 拥塞控制算法
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nginx-http2" class="md-nav__link">
    如何在 Nginx 上支持 HTTP/2
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#qos" class="md-nav__link">
    云场景下的网络 QoS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tcp" class="md-nav__link">
    TCP 状态机
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ops/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ops
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../software/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
  <div class="md-content" data-md-component="content">
    <div class="md-content__inner">
      <header class="md-typeset">
        <h1 id="network">Network</h1>
      </header>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2024-02-14 00:00:00">2024年2月14日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="./" class="md-meta__link">Network</a>, 
              <a href="../ops/" class="md-meta__link">Ops</a>, 
              <a href="../ai/" class="md-meta__link">AI</a>, 
              <a href="../competitions/" class="md-meta__link">Competitions</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 9 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="asc24"><a class="toclink" href="../../2024/02/14/asc24/">ASC24 初赛回忆录</a></h2>
<h3 id="asc"><a class="toclink" href="../../2024/02/14/asc24/#asc">第一集 ASC五缺四</a></h3>
<p>研究院的老板向我下达指令，要求我从 QLU 凑出一只竞赛队伍来。我细细盘算了一下，猛然觉得我的社交圈过于狭小，以至于难以找到有时间来、以及有能力来参加的同学。因为老板要求我们在济南超算常驻一个月进行备赛，而ASC并不在竞赛清单，学校以及学院那边的行政一贯是难以通融的。</p>
<p>去年参赛的队友，要么正在挣扎于考研、要么已经无心于这个方向，总之是很难再次参加了。</p>
<p>至于别人，我首先想到的是相相，他是我上大学后，一直崇拜的高技术力学长，软硬件通吃的全才，他当时正在申海外，我猜测他也许会有些时间来参赛，便给他发了几长串消息，竭力邀请他前来参赛。相相从来都是南半球作息，在傍晚的时候他醒了，并同意了我的邀请。我心中顿时有了底气，觉得本次ASC应当会取得一定的好成绩。找完相相后，我想到一博或许会愿来一试，他是学校里不多的热衷折腾各种奇妙小众硬件产品，以及对各种怪怪的Linux发行版有深入研究的人，技术栈广且硬核。他去年还参加CPC拿到了一等奖，实力是没话说的。不出所料，一博很快的答应上我的贼船。</p>
<p>一天之后，去年ASC我的队长涛哥告诉我，他还是不能抵挡ASC的魅力，于是决定考研和ASC初赛并行进行（实在是太HPC了）。于是心中又一块石头落了地，我知道把AI赛题交给涛哥是绝对可靠的。</p>
<p>至于最后一个人选，涛哥在AIDC认识一位大二的新人，可以做一点AI相关的赛题。但我将目光瞄准了刚刚从XCPC那边退役的睿总，他有极强的算法能力，我认为他能帮助我们在复杂的工程代码中抽离出核心算法并进行优化。我花费了一晚上的时间，给不知HPC为何物的睿总进行了科普和各种忽悠，拍拍胸脯打包票说“睿总你不要怕别的，我给你搞定一切算法之外的问题，你就负责优化即可”，睿总最终是忐忑不安的应了我的邀请。并且开始速成HPC的各种知识，从硬件到MPI，睿总展现了超强的学习能力和XCPC退役选手的专业素养。</p>
<p>凑够了五个人，我们的ASC2024之旅正式扬帆起航。</p>
<h3 id="_1"><a class="toclink" href="../../2024/02/14/asc24/#_1">第二集 土狗进京企图偷吃小蛋糕未遂</a></h3>
<p>在我们几个看了几个星期赛题，并顺利陷入坐牢状态后，ASC组委会发了北京线下初赛研讨会议的邀请函。我们自然是不能放过前去学习（吃小蛋糕）的好机会，我们指使涛哥暗搓搓的向大老板表达了一下前去学习的愿望，大老板也是很慷慨的同意了我们公费差旅的小算盘。我们订上高铁票，不断幻想着主办方会提供什么样的茶歇小蛋糕，以及如何打探其他赛队的优化进度、咨询专家赛题技术细节。</p>
<p>最终，睿总由于考试撞车，不得不留在学校，眼睁睁看着我们四个土狗进京。</p>
<p>顺便提一句，我们几个人琢磨了好几晚上如何不浪费差旅报销额度，最后找了一个看上去就很高级的“西山花园温泉酒店”。以至于挤掉了boss的额度，不得不换一家稍远的、没有我们那么奢华的酒店。我们实在是太不当人了x</p>
<p>到北京之后，我们坐着地铁兴冲冲的前往了“花园温泉酒店”，一进广场就看到奢华高级的大门，甚至有门童安排行李。我们四个人就显得很土狗很局促了。我还说了句“看见没涛哥，高级酒店就是不一样”。然而我们小丑了，前台人员彬彬有礼的告知我们，订的是“花园温泉酒店”的快捷酒店区，并进行了礼貌的引导，指示我们出门，左转。</p>
<p>我们滚出了高级酒店，左转穿过一个绿化带，发现了同名的快捷酒店。我们四个土狗变成了小丑，推开了不自动的、也不那么奢华的玻璃门，来到了属于我们的地方。办理完入住手续后，气愤的薅走了前台很多块水果糖。</p>
<p>最后我推开门，看着济南130块一晚上的汉庭同款房间规格，心想：“大北京就是不一样的”。</p>
<p>之后我们去培训会，见到了一众专家大佬，以及一些去年ASC决赛现场见过的其他学校老熟人。然而主办方并没有准备茶歇，失去了一些学术会议的色彩。毕竟学术会议的核心就是在专家侃侃而谈时偷吃小蛋糕。除此之外，我们还是收获满满的，听到了专家对于今年赛题的解析，甚至赛题原作者亲临赛场答疑解惑，给我们后续的优化提供了有力的帮助。另外就是睿总在基础讲解部分，系统的入了HPC的门。我是没有细听基础知识，选择与其他队伍的同学出去瞎聊顺便刺探进度。</p>
<h3 id="_2"><a class="toclink" href="../../2024/02/14/asc24/#_2">第三集 济南城大别野</a></h3>
<p>虽然说济南长清也是济南，但总体是属于乡村城镇那一类的。我们五个人在各种平台上找了又找，最终找到了一个离济南超算比较近的大别野，作为我们初赛在济南超算备赛的居住地。今年我有了小汽车，就可以带着队友们在济南城瞎逛，也方便了上下班。去年没有车，我们五个人全靠腿走。</p>
<p>说是大别野，实际上只是租给我们一层，但也是非常大的，有三个卧室，两个卫生间，甚至有自己的小院子。我和涛哥在客厅部署了空气床垫，我睡着还算舒服；但是涛哥过于重量级，睡的就比较难受了，经常抱怨腰痛但是大度无私的让出了卧室，我的涛哥人真是太好了。</p>
<p>白天在济南超算那边，我们通常从早上九点工作到晚上八点甚至十点，如此加班有很大一部分是我的原因，我负责硬件集群以及系统和赛题整体配合，需要不断的在内核态和用户态来回调试，而超算的网络环境对于安全性有变态的管理要求，我们几乎不能远程ipmi管理，所以需要物理的在集群旁边儿，而不能在外面连回来。但是我不走，我的队友只能陪着我坐牢，因为只有我能开车拉他们。最终的结局就是我每天都十点多甚至到凌晨才恋恋不舍的离开超算，拉着队友在车上努力寻找半夜开门儿的饭馆。我有罪。</p>
<p>初赛，济南的天气已经冷起来了，我们租的房子又极大，有将近两百平，以至于空调全天制热但几乎没有什么效果。我们就这样白天在研究院干到半夜，然后回到租的房子后又在客厅缩着脖子凑在一起，对赛题夜夜通宵达旦的理解、修改、优化。</p>
<h3 id="_3"><a class="toclink" href="../../2024/02/14/asc24/#_3">第四集</a></h3>

    <nav class="md-post__action">
      <a href="../../2024/02/14/asc24/">
        继续阅读
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2024-02-07 00:00:00">2024年2月7日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="./" class="md-meta__link">Network</a>, 
              <a href="../ops/" class="md-meta__link">Ops</a>, 
              <a href="../ai/" class="md-meta__link">AI</a>, 
              <a href="../competitions/" class="md-meta__link">Competitions</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 46 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="asc-22-23"><a class="toclink" href="../../2024/02/07/asc22-23/">ASC 22-23 回忆录</a></h2>
<h3 id="_1"><a class="toclink" href="../../2024/02/07/asc22-23/#_1">写在前面</a></h3>
<p>这是一篇关于 ASC 22-23 的回忆录，出于技术保密的考虑，几乎没有任何技术干货，只是我的一些碎碎念。</p>
<p>ASC 22-23 在中国科学技术大学举行，我作为初次参与 ASC 的新人，很幸运的一路来到了决赛现场。</p>
<p>在本届比赛之前，学校并没有一个具体的超算队概念。而是济南超级计算技术研究院和数学与统计学院有深入的合作，从 AIDC 组织遴选了一些有能力的同学来参与相关的的比赛。而我作为 QLU 网络运维（后来单独分离出网络与高性能计算协会）的成员，得到了奇妙熟人关系的推荐和介绍，光速走完流程加入了 AIDC，并顺利的被遴选成为有资格参与 ASC22-23 竞赛的队员。</p>
<p>在参加这个比赛之前，我更多的是做一些网络安全和算法相关的东西，外加从 QLU 网络运维那边得到的 Linux Ops 和集群组建运维的能力。可以说我在 HPC 这个领域算是彻底的小白。在确定了 ASC22-23 的参赛资格后，我在短时间内速成了基本的体系结构和 CUDA 编程、MPI、OpenMP，以及部分高端设备（A100 和 InfiniBand Switch/HCA）的软硬件组建调试能力。</p>
<p>在此必须要感谢拉我上车的好哥们儿，例如旭哥、烁哥以及涛哥，也必须要感谢济南超级计算技术研究院/国家超算济南中心为我们提供的强大经费和先进资源 <del>(括号大学万岁)</del>。</p>

    <nav class="md-post__action">
      <a href="../../2024/02/07/asc22-23/">
        继续阅读
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2023-01-07 00:00:00">2023年1月7日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="./" class="md-meta__link">Network</a>, 
              <a href="../ops/" class="md-meta__link">Ops</a>, 
              <a href="../cybersec/" class="md-meta__link">CyberSec</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 4 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="syn"><a class="toclink" href="../../2023/01/07/syn/">镜像站遭遇 SYN 泛洪攻击的诊断与防御</a></h2>
<h3 id="_1"><a class="toclink" href="../../2023/01/07/syn/#_1">异常的连接数</a></h3>
<p>近日，镜像站莫名遭到多次攻击，症状表现为 TCP 连接数异常上升，久久得不到释放。后台监控检测到大量 5XX 错误，CPU 负载高，正常业务受到较大影响。</p>
<p>通过使用 netstat 命令可以统计服务器当前的各种 TCP 状态：</p>
<div class="highlight"><pre><span></span><code>netstat<span class="w"> </span>-n<span class="w"> </span><span class="p">|</span><span class="w"> </span>awk<span class="w"> </span><span class="s1">&#39;/^tcp/ {++S[$NF]} END {for(a in S) print a, S[a]}&#39;</span>
</code></pre></div>
<p>我站在受攻击时的状态列表如下：</p>
<div class="highlight"><pre><span></span><code>TIME_WAIT<span class="w"> </span><span class="m">168</span>
CLOSE_WAIT<span class="w"> </span><span class="m">9</span>
SYN_SENT<span class="w"> </span><span class="m">3</span>
FIN_WAIT1<span class="w"> </span><span class="m">229</span>
FIN_WAIT2<span class="w"> </span><span class="m">113</span>
ESTABLISHED<span class="w"> </span><span class="m">234</span>
SYN_RECV<span class="w"> </span><span class="m">1272</span>
CLOSING<span class="w"> </span><span class="m">3</span>
LAST_ACK<span class="w"> </span><span class="m">97</span>
</code></pre></div>
<p>可以明显发现 SYN_RECV 连接数异常增多。</p>
<p>仅通过这一现象就可以判断为服务器受到了 SYN Flood 泛洪攻击。</p>

    <nav class="md-post__action">
      <a href="../../2023/01/07/syn/">
        继续阅读
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2022-12-26 00:00:00">2022年12月26日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="./" class="md-meta__link">Network</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 5 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="http2"><a class="toclink" href="../../2022/12/26/http2/">HTTP/2带来了什么特性</a></h2>
<p>QLUT 镜像站在圣诞节维护中带来了 HTTP/2 协议的支持。新协议提供了诸多新特性。</p>

    <nav class="md-post__action">
      <a href="../../2022/12/26/http2/">
        继续阅读
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2022-12-26 00:00:00">2022年12月26日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="./" class="md-meta__link">Network</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 3 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="bbr"><a class="toclink" href="../../2022/12/26/bbr/">如何在服务端启用 BBR 拥塞控制算法</a></h2>
<p>2016 年底，Google 发表了一篇优化 TCP 传输算法的文章，极大的提高了 TCP 的 throughput（吞吐量），并且已经集成到 Linux 4.9 内核中。这个算法就是 BBR(Bottleneck Bandwidth and Round-trip propagation time)。</p>
<p>作为一个软件源镜像站，启用 BBR 将显著提升服务器的带宽利用率。但由于服务器所用的 CentOS 内核版本过低，我们需要先升级系统内核。</p>

    <nav class="md-post__action">
      <a href="../../2022/12/26/bbr/">
        继续阅读
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2022-12-26 00:00:00">2022年12月26日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="./" class="md-meta__link">Network</a>, 
              <a href="../ops/" class="md-meta__link">Ops</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 2 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="nginx-http2"><a class="toclink" href="../../2022/12/26/nginx-http2/">如何在 Nginx 上支持 HTTP/2</a></h2>
<p>HTTP/2（原名HTTP 2.0）即超文本传输协议第二版，使用于万维网。HTTP/2 主要基于 SPDY 协议，通过对 HTTP 头字段进行数据压缩、对数据传输采用多路复用和增加服务端推送等举措，来减少网络延迟，提高客户端的页面加载速度。HTTP/2 没有改动 HTTP 的应用语义，仍然使用 HTTP 的请求方法、状态码和头字段等规则，它主要修改了 HTTP 的报文传输格式，通过引入二进制分帧实现性能的提升。</p>

    <nav class="md-post__action">
      <a href="../../2022/12/26/nginx-http2/">
        继续阅读
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2022-10-13 00:00:00">2022年10月13日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="./" class="md-meta__link">Network</a>, 
              <a href="../cloudnative/" class="md-meta__link">CloudNative</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 4 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="qos"><a class="toclink" href="../../2022/10/13/qos/">云场景下的网络 QoS</a></h2>
<p>公共的网络链路总会不可避免的产生带宽抢占的问题，我们通常使用 QoS 技术保障大多数用户的服务质量。</p>
<p><img alt="img" src="https://static001.geekbang.org/resource/image/74/11/747b0d537fd1705171ffcca3faf96211.jpg?wh=1539*646" /></p>
<p>一台服务器能控制的只有出方向的 QoS，通过 Shaping 将出站流量整形，至于入栈流量只能通过 Policy 决定丢弃哪一部分数据包。</p>

    <nav class="md-post__action">
      <a href="../../2022/10/13/qos/">
        继续阅读
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2022-09-23 00:00:00">2022年9月23日</time></li>
        
          <li class="md-meta__item">
            分类于
            
              <a href="./" class="md-meta__link">Network</a></li>
        
        
          
          <li class="md-meta__item">
            
              需要 8 分钟阅读时间
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="tcp"><a class="toclink" href="../../2022/09/23/tcp/">TCP 状态机</a></h2>
<p>一个 TCP 连接在它的生命周期内会有不同的状态。</p>
<p>下图说明了 TCP 连接可能会有的状态，以及基于事件的状态转换。事件中有的是应用程序的操作，有的是接收到了网络发过来的请求。</p>
<p><img alt="a21r1-84lt6.jpg" src="https://s2.loli.net/2022/12/25/kbcDZ3WdeETio8u.jpg" /></p>
<p>TCP 状态及其描述如下表。</p>
<table>
<thead>
<tr>
<th>状态</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>LISTEN</td>
<td>等待来自远程 TCP 应用程序的请求</td>
</tr>
<tr>
<td>SYN_SENT</td>
<td>发送连接请求后等待来自远程端点的确认。TCP 第一次握手后客户端所处的状态</td>
</tr>
<tr>
<td>SYN-RECEIVED</td>
<td>该端点已经接收到连接请求并发送确认。该端点正在等待最终确认。TCP 第二次握手后服务端所处的状态</td>
</tr>
<tr>
<td>ESTABLISHED</td>
<td>代表连接已经建立起来了。这是连接数据传输阶段的正常状态</td>
</tr>
<tr>
<td>FIN_WAIT_1</td>
<td>等待来自远程 TCP 的终止连接请求或终止请求的确认</td>
</tr>
<tr>
<td>FIN_WAIT_2</td>
<td>在此端点发送终止连接请求后，等待来自远程 TCP 的连接终止请求</td>
</tr>
<tr>
<td>CLOSE_WAIT</td>
<td>该端点已经收到来自远程端点的关闭请求，此 TCP 正在等待本地应用程序的连接终止请求</td>
</tr>
<tr>
<td>CLOSING</td>
<td>等待来自远程 TCP 的连接终止请求确认</td>
</tr>
<tr>
<td>LAST_ACK</td>
<td>等待先前发送到远程 TCP 的连接终止请求的确认</td>
</tr>
<tr>
<td>TIME_WAIT</td>
<td>等待足够的时间来确保远程 TCP 接收到其连接终止请求的确认</td>
</tr>
</tbody>
</table>

    <nav class="md-post__action">
      <a href="../../2022/09/23/tcp/">
        继续阅读
      </a>
    </nav>
  </div>
</article>
      
    </div>
  </div>

          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="页脚" >
        
          
          <a href="../machine-learning/" class="md-footer__link md-footer__link--prev" aria-label="上一页: Machine Learning" rel="prev">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                Machine Learning
              </div>
            </div>
          </a>
        
        
          
          <a href="../ops/" class="md-footer__link md-footer__link--next" aria-label="下一页: Ops" rel="next">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                下一页
              </span>
              <div class="md-ellipsis">
                Ops
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.footer", "content.code.copy", "toc.follow", "toc.integrate"], "search": "../../../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.4e31edb1.min.js"></script>
      
    
  </body>
</html>